<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>High Rock Fundraiser</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <!-- FIREBASE IMPORTS (Only Authentication is retained) -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged, setLogLevel } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        // IMPORTANT: Use setLogLevel to see detailed Firebase logs in the console
        setLogLevel('debug');

        // Global variables provided by the Canvas environment
        const firebaseConfig = JSON.parse(typeof __firebase_config !== 'undefined' ? __firebase_config : '{}');
        const initialAuthToken = typeof __initial_auth_token !== 'undefined' ? __initial_auth_token : null;

        if (Object.keys(firebaseConfig).length > 0) {
            window.app = initializeApp(firebaseConfig);
            window.auth = getAuth(window.app);
        } else {
            console.error("Firebase config is missing or invalid. Authentication features will not work.");
        }

        // Authentication Handler
        async function authenticate() {
            if (!window.auth) return;

            try {
                if (initialAuthToken) {
                    await signInWithCustomToken(window.auth, initialAuthToken);
                } else {
                    await signInAnonymously(window.auth);
                }
                console.log("Firebase authentication successful.");
            } catch (error) {
                console.error("Firebase authentication failed:", error);
            }
        }
        
        // Listen for authentication state changes (retained for future features, but not used for data)
        onAuthStateChanged(window.auth, (user) => {
            if (user) {
                window.userId = user.uid;
            } else {
                window.userId = 'anonymous-user';
            }
            console.log("Current User ID:", window.userId);
        });

        // Start authentication process
        authenticate();

    </script>
    <style>
        /* --- CUSTOM VARIABLES --- */
        :root{
            --bg:#050505; 
            --card:#0f0f10; 
            --accent:#ff9a00; 
            --muted:#9aa3ad;
            --robux-blue: #3b82f6; 
            --cash-green: #10b981;
        }

        /* --- BASE STYLES --- */
        html,body{height:100%;}
        body{
            font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Arial,sans-serif;
            background:linear-gradient(180deg,#030304 0%,#060607 60%);
            color:#e6eef6;
            -webkit-font-smoothing:antialiased;
            -moz-osx-font-smoothing:grayscale;
        }

        /* --- UTILITY COMPONENTS --- */
        .glass{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);border-radius:16px;}
        .accent{color:var(--accent)}
        .btn-accent{
            background:linear-gradient(90deg,var(--accent),#ffc07a);
            color:#000;
            font-weight:700;
            border-radius:9999px;
            padding:10px 22px;
            display:inline-flex;
            align-items:center;
            gap:.6rem;
            box-shadow:0 8px 30px rgba(255,154,0,0.12);
            transition: transform .2s ease, box-shadow .2s ease;
        }
        .btn-accent:hover{transform:translateY(-3px)}
        .card-raise{transition:transform .25s ease,box-shadow .25s ease}
        .card-raise:hover{transform:translateY(-6px);box-shadow:0 20px 50px rgba(0,0,0,0.6)}

        /* --- NAVIGATION STYLES --- */
        .nav-link{position:relative;padding:.25rem 0; text-decoration: none !important;}
        .nav-link::after{content:"";position:absolute;left:0;right:0;height:3px;background:var(--accent);transform:scaleX(0);transform-origin:left;transition:transform .25s ease}
        .nav-link:hover::after,.nav-link.active::after{transform:scaleX(1)}
        
        /* --- HERO MEDIA FIX --- */
        .hero-media{position:absolute;inset:0;object-fit:cover;filter:brightness(.25);opacity:.95}
        
        /* --- MOBILE/DESKTOP UTILITIES --- */
        @media (max-width:768px){.desktop-only{display:none}.mobile-only{display:block}}
        @media (min-width:769px){.desktop-only{display:block}.mobile-only{display:none}}
        
        /* --- MODAL SPECIFIC STYLES --- */
        .modal-card-bg {
            background-color: var(--card);
        }
        .cash-btn-modal {
            background-color: var(--cash-green); 
            transition: background-color 0.2s;
        }
        .cash-btn-modal:hover {
            background-color: #059669;
        }
        .robux-btn-modal {
            background-color: var(--robux-blue); 
            transition: background-color 0.2s;
        }
        .robux-btn-modal:hover {
            background-color: #2563eb;
        }
    </style>
</head>
<body>
    <!-- HEADER / NAV -->
    <header class="sticky top-0 z-40 bg-[rgba(3,3,3,0.65)] backdrop-blur-md border-b border-[rgba(255,255,255,0.03)]">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16">
            <a href="#" class="flex items-center gap-3" onclick="navigate('home');return false;">
                <div class="w-10 h-10 flex items-center justify-center">
                    <!-- Placeholder Logo -->
                    <img src="https://placehold.co/40x40/ff9a00/000000?text=HR" alt="High Rock Logo" class="w-full h-full object-contain rounded-lg">
                </div>
                <div>
                    <div class="text-lg font-extrabold">High Rock</div>
                    <div class="text-xs text-[var(--muted)] -mt-1">Fundraiser</div>
                </div>
            </a>

            <!-- NAVIGATION LINKS -->
            <nav class="hidden md:flex items-center gap-8 text-sm text-[var(--muted)]">
                <a class="nav-link active" href="#" data-page="home" onclick="navigate('home');return false;">Home</a>
                <a class="nav-link" href="#" data-page="donation" onclick="navigate('donation');return false;">Donation</a>
                <a class="nav-link" href="#" data-page="terms" onclick="navigate('terms');return false;">Terms of Service</a>
                <a class="nav-link" href="#" data-page="support" onclick="navigate('support');return false;">Support</a>
            </nav>

            <div class="flex items-center gap-3">
                <!-- Only mobile toggle remains -->
                <button class="mobile-only text-[var(--muted)]" id="mobile-toggle" aria-expanded="false" onclick="toggleMobile()">
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/></svg>
                </button>
            </div>
        </div>

        <!-- Mobile menu -->
        <div id="mobile-menu" class="hidden md:hidden">
            <div class="px-4 pt-4 pb-6 space-y-2">
                <a class="block py-2 px-3 rounded text-white hover:bg-[rgba(255,255,255,0.02)]" href="#" onclick="navigate('home');return false;">Home</a>
                <a class="block py-2 px-3 rounded text-white hover:bg-[rgba(255,255,255,0.02)]" href="#" onclick="navigate('donation');return false;">Donation</a>
                <a class="block py-2 px-3 rounded text-white hover:bg-[rgba(255,255,255,0.02)]" href="#" onclick="navigate('terms');return false;">Terms of Service</a>
                <a class="block py-2 px-3 rounded text-white hover:bg-[rgba(255,255,255,0.02)]" href="#" onclick="navigate('support');return false;">Support</a>
            </div>
        </div>
    </header>

    <!-- MAIN APP (client-side route sections) -->
    <main class="pt-6 sm:pt-10">

        <!-- HOME SECTION -->
        <section id="home" class="page-section">
            <!-- 1. HERO SECTION -->
            <div class="relative h-[72vh] flex items-center justify-center overflow-hidden">
                <!-- Placeholder Background Image URL (no distracting text) -->
                <img class="hero-media" src="https://placehold.co/1200x800/232323/232323" alt="Hero Background"/>
                <div class="relative z-10 max-w-5xl px-6 text-center">
                    <h1 class="text-5xl md:text-7xl font-extrabold leading-tight mb-4"><span class="accent">Fundraiser</span> for High Rock</h1>
                    <p class="text-lg text-[var(--muted)] max-w-3xl mx-auto mb-8">
                        Your contributions go directly toward purchasing professional design assets (logos, banners, graphics) to elevate our server's brand and visual identity.
                    </p>
                    <div class="flex items-center justify-center gap-4">
                        <button class="btn-accent" onclick="navigate('donation');">
                            <i data-lucide="wallet" class="w-5 h-5"></i>
                            Donate Now
                        </button>
                        <a href="#" class="text-sm text-[var(--muted)] hover:text-white transition" onclick="navigate('support');return false;">Get Support</a>
                    </div>
                </div>
            </div>

            <!-- 2. DESCRIPTION SECTION (Scrollable Content) -->
            <div class="max-w-7xl mx-auto px-6 py-16">
                <!-- Description content centered and full width -->
                <div class="max-w-4xl mx-auto"> 
                    <h2 class="text-4xl font-extrabold mb-4"><span class="accent">Why</span> We Fundraise</h2>
                    <p class="text-[var(--muted)] mb-4">
                        High Rock is more than just a server; it's a growing community built on the pillars of creativity and collaboration. As we expand, our visual identity must match our ambition. This fundraiser is strictly dedicated to purchasing high-quality, professional assets.
                    </p>
                    <p class="text-[var(--muted)] mb-6">
                        This includes custom logos, professionally designed banners for social media and platforms like Discord, and unique in-game textures and graphics. These elements are crucial for ensuring a polished, trustworthy, and appealing brand image that attracts new members and retains our current loyal community.
                    </p>
                    <button class="btn-accent" onclick="navigate('donation');">
                        <i data-lucide="heart" class="w-5 h-5"></i>
                        See Tiers & Donate
                    </button>
                </div>
            </div>
            
            <!-- 3. CHARITY DISCLOSURE (Grey Text at Bottom) -->
            <div class="max-w-7xl mx-auto px-6 pb-16 pt-8 text-center">
                <p class="text-sm text-[var(--muted)]">
                    We believe in giving back. <span class="accent font-semibold">10% of all cash donations</span> are contributed to the 
                    <a href="https://www.edf.org/" target="_blank" class="underline hover:text-white transition">Environmental Defense Fund (EDF)</a> 
                    to support their critical work.
                </p>
            </div>
        </section>

        <!-- DONATION SECTION (Fundraiser Tiers only) -->
        <section id="donation" class="page-section py-16 hidden">
            <div class="max-w-7xl mx-auto px-6">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-extrabold"><span class="accent">Choose</span> Your Contribution Level</h2>
                    <p class="text-[var(--muted)] mt-3">Select a tier below. All funds go toward server visual improvements and development assets.</p>
                </div>
                
                <!-- Donation Tiers Grid -->
                <h3 class="text-3xl font-extrabold mb-6">Select a Donation Tier</h3>
                <div id="donation-grid" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                    <!-- Donation cards will be injected here by JavaScript -->
                </div>
            </div>
        </section>

        <!-- TERMS OF SERVICE SECTION (Content unchanged) -->
        <section id="terms" class="page-section py-16 hidden">
            <div class="max-w-7xl mx-auto px-6">
                <h2 class="text-4xl font-extrabold mb-8 text-center"><span class="accent">Terms</span> of Service Agreement</h2>

                <div class="lg:grid lg:grid-cols-4 gap-10">

                    <!-- Table of Contents (TOC) - Sidebar -->
                    <nav class="lg:col-span-1 mb-8 lg:mb-0">
                        <div class="lg:sticky lg:top-[calc(64px+2rem)] glass p-4 space-y-2">
                            <h3 class="font-bold text-lg mb-2 text-white">Contents (17 Clauses)</h3>
                            
                            <!-- I. Governance and Acceptance (1-3) -->
                            <div class="font-bold text-[var(--accent)] mt-4 mb-1">I. Governance and Acceptance</div>
                            <a href="#clause-1" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">1. Acceptance of Terms</a>
                            <a href="#clause-2" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">2. Definitions</a>
                            <a href="#clause-3" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">3. Modification of Terms</a>

                            <!-- II. Intellectual Property & License Grant (4-6) -->
                            <div class="font-bold text-[var(--accent)] mt-4 mb-1">II. Intellectual Property & License Grant</div>
                            <a href="#clause-4" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">4. Ownership and Service IP</a>
                            <a href="#clause-5" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">5. Assignment of User Content Copyright</a>
                            <a href="#clause-6" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">6. User License for Submitted Content</a>

                            <!-- III. User Conduct and Fundraising Policy (7-10) -->
                            <div class="font-bold text-[var(--accent)] mt-4 mb-1">III. User Conduct and Fundraising Policy</div>
                            <a href="#clause-7" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">7. Acceptable Use Policy (AUP)</a>
                            <a href="#clause-8" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">8. Account Security and Responsibilities</a>
                            <a href="#clause-9" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">9. Fundraising Disclosures and Intent</a>
                            <a href="#clause-10" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">10. Donation Finality and Refunds</a>

                            <!-- IV. Disclaimers and Liability (11-14) -->
                            <div class="font-bold text-[var(--accent)] mt-4 mb-1">IV. Disclaimers and Liability</div>
                            <a href="#clause-11" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">11. Disclaimer of Warranties</a>
                            <a href="#clause-12" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">12. Limitation of Liability</a>
                            <a href="#clause-13" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">13. Indemnification</a>
                            <a href="#clause-14" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">14. Third-Party Links and Services</a>

                            <!-- V. Miscellaneous Provisions (15-17) -->
                            <div class="font-bold text-[var(--accent)] mt-4 mb-1">V. Miscellaneous Provisions</div>
                            <a href="#clause-15" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">15. Termination of Access</a>
                            <a href="#clause-16" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">16. Governing Law and Jurisdiction</a>
                            <a href="#clause-17" class="block text-sm text-[var(--muted)] hover:text-white transition py-1 pl-3">17. Entire Agreement and Severability</a>
                            
                            <div class="pt-2 border-t border-[rgba(255,255,255,0.05)] mt-4">
                                <a href="#contact" class="block text-sm text-[var(--muted)] hover:text-white transition py-1">Contact Information</a>
                            </div>
                        </div>
                    </nav>

                    <!-- Main Content -->
                    <div class="lg:col-span-3">
                        <div class="glass p-8 space-y-6 text-[var(--muted)] text-base leading-relaxed">
                            
                            <!-- I. Governance and Acceptance -->
                            <h3 id="governance" class="font-bold text-2xl text-white pt-2">I. Governance and Acceptance</h3>
                            
                            <h4 id="clause-1" class="font-semibold text-xl text-white">1. Acceptance of Terms</h4>
                            <p>This document represents a legally binding agreement between you ("User" or "you") and the Service Provider. Your access to and use of the Service is conditioned upon your acceptance of and compliance with these Terms.</p>

                            <h4 id="clause-2" class="font-semibold text-xl text-white">2. Definitions</h4>
                            <ul class="list-disc list-inside space-y-1 pl-4">
                                <li><strong>"Service Provider," "We," "Us," "Our":</strong> Refers to the operator of this Platform and the owner, Vel1city.</li>
                                <li><strong>"User," "You":</strong> Refers to any person or entity accessing or using the Service.</li>
                                <li><strong>"Platform/Website":</strong> Refers to all web pages, content, and interactive features provided under this domain.</li>
                                <li><strong>"Content":</strong> Includes all text, images, logos, designs, data, and software code on the Platform.</li>
                                <li><strong>"Server Fund":</strong> Funds raised for the specific purpose of maintaining and operating the community server.</li>
                                <li><strong>"Charity Fund":</strong> Funds collected for the express purpose of donating to the Environmental Defense Fund (EDF).</li>
                            </ul>

                            <h4 id="clause-3" class="font-semibold text-xl text-white">3. Modification of Terms</h4>
                            <p>We reserve the right, at our sole discretion, to modify or replace these Terms at any time. We will provide reasonable notice of any material changes. By continuing to access or use our Service after those revisions become effective, you agree to be bound by the revised terms.</p>

                            <!-- II. Intellectual Property & License Grant -->
                            <h3 id="ip" class="font-bold text-2xl text-white pt-6 border-t border-[rgba(255,255,255,0.05)]">II. Intellectual Property & License Grant</h3>
                            
                            <h4 id="clause-4" class="font-semibold text-xl text-white">4. Ownership and Service Intellectual Property</h4>
                            <p>The Service, its original Content (excluding User Content), features, and functionality are and will remain the exclusive property of the Service Provider and the owning entity, Vel1city. Our trademarks, trade dress, and intellectual property may not be used in connection with any product or service without the prior written consent of Vel1city.</p>

                            <h4 id="clause-5" class="font-semibold text-xl text-white">5. Assignment of User Content Copyright to Vel1city</h4>
                            <p>In consideration of using the Platform, the User hereby irrevocably and perpetually assigns, transfers, and conveys to Vel1city the entire right, title, and interest in and to any and all copyright, proprietary rights, and intellectual property rights in any content, data, submissions, artwork, designs, or textual contributions created by the User and uploaded, submitted, or otherwise shared on or through the Website or Server platform. This assignment includes the exclusive rights to reproduce, distribute, perform, display, and create derivative works of such content, globally, in any medium now known or later developed.</p>

                            <h4 id="clause-6" class="font-semibold text-xl text-white">6. User License for Submitted Content</h4>
                            <p>For any content or contributions not deemed covered by the assignment in Section 5, you grant the Service Provider a limited, non-exclusive, royalty-free, and worldwide license to use, modify, publish, and distribute such content solely for the purpose of operating, maintaining, and promoting the Platform and the associated server.</p>

                            <!-- III. User Conduct and Fundraising Policy -->
                            <h3 id="conduct" class="font-bold text-2xl text-white pt-6 border-t border-[rgba(255,255,255,0.05)]">III. User Conduct and Fundraising Policy</h3>

                            <h4 id="clause-7" class="font-semibold text-xl text-white">7. Acceptable Use Policy (AUP)</h4>
                            <p>You agree not to use the Service:</p>
                            <ul class="list-disc list-inside space-y-1 pl-4">
                                <li>In any way that violates any applicable national or international law or regulation.</li>
                                <li>To harass, abuse, insult, harm, defame, or discriminate based on gender, sexual orientation, religion, ethnicity, race, age, national origin, or disability.</li>
                                <li>To transmit any material that contains software viruses or any other computer code, files, or programs designed to interrupt, destroy, or limit the functionality of any computer software or hardware.</li>
                            </ul>

                            <h4 id="clause-8" class="font-semibold text-xl text-white">8. Account Security and Responsibilities</h4>
                            <p>If you create an account, you are responsible for maintaining the security of your password and notifying the Service Provider immediately upon becoming aware of any breach of security or unauthorized use of your account.</p>

                            <h4 id="clause-9" class="font-semibold text-xl text-white">9. Fundraising Disclosures and Intent</h4>
                            <p>The Platform engages in two types of fundraising:</p>
                            <ul class="list-disc list-inside space-y-1 pl-4">
                                <li><strong>Server Fund:</strong> Contributions are used entirely for server operational costs (hosting, maintenance, software).</li>
                                <li><strong>Charity Fund:</strong> Contributions are directed to the official Environmental Defense Fund (EDF) and are subject to EDF's own terms and conditions. The Service Provider acts as an independent supporter and is not an agent of, nor officially endorsed by, the EDF.</li>
                            </ul>

                            <h4 id="clause-10" class="font-semibold text-xl text-white">10. Donation Finality and Refunds</h4>
                            <p>All contributions, whether for the Server Fund or the Charity Fund, are considered non-refundable charitable transactions or gifts. Once a payment or contribution (in USD or equivalent currency) is processed, the transaction is final. The Service Provider is under no obligation to issue refunds.</p>

                            <!-- IV. Disclaimers and Liability -->
                            <h3 id="disclaimers" class="font-bold text-2xl text-white pt-6 border-t border-[rgba(255,255,255,0.05)]">IV. Disclaimers and Liability</h3>

                            <h4 id="clause-11" class="font-semibold text-xl text-white">11. Disclaimer of Warranties</h4>
                            <p>The Platform and all content are provided on an "AS IS" and "AS AVAILABLE" basis. The Service Provider disclaims all warranties of any kind, whether express or implied, including, but not limited to, implied warranties of merchantability, fitness for a particular purpose, non-infringement, or course of performance.</p>

                            <h4 id="clause-12" class="font-semibold text-xl text-white">12. Limitation of Liability</h4>
                            <p>In no event shall the Service Provider, Vel1city, or its staff be liable for any indirect, incidental, special, consequential, or punitive damages, including without limitation, loss of profits, data, use, goodwill, or other intangible losses, resulting from (i) your access to or use of or inability to access or use the Service; (ii) any content obtained from the Service; and (iii) unauthorized access, use, or alteration of your transmissions or content.</p>

                            <h4 id="clause-13" class="font-semibold text-xl text-white">13. Indemnification</h4>
                            <p>You agree to defend, indemnify, and hold harmless the Service Provider, Vel1city, and its staff from and against any and all claims, damages, liabilities, costs, and expenses (including attorneys' fees) arising from: (a) your use of the Service; (b) your breach of these Terms; or (c) your violation of any law or the rights of any third party.</p>

                            <h4 id="clause-14" class="font-semibold text-xl text-white">14. Third-Party Links and Services</h4>
                            <p>The Service may contain links to third-party websites or services (e.g., the official EDF website). We have no control over, and assume no responsibility for, the content, privacy policies, or practices of any third-party websites or services. We strongly advise you to read the terms and conditions and privacy policies of any third-party websites that you visit.</p>

                            <!-- V. Miscellaneous Provisions -->
                            <h3 id="miscellaneous" class="font-bold text-2xl text-white pt-6 border-t border-[rgba(255,255,255,0.05)]">V. Miscellaneous Provisions</h3>
                            
                            <h4 id="clause-15" class="font-semibold text-xl text-white">15. Termination of Access</h4>
                            <p>We may terminate or suspend your access to the Service immediately, without prior notice or liability, for any reason whatsoever, including without limitation if you breach the Terms. All provisions of the Terms which by their nature should survive termination shall survive termination, including, without limitation, ownership provisions, warranty disclaimers, indemnity, and limitations of liability.</p>

                            <h4 id="clause-16" class="font-semibold text-xl text-white">16. Governing Law and Jurisdiction</h4>
                            <p>This Agreement shall be governed and construed in accordance with the laws of the State of Delaware, United States, without regard to its conflict of law provisions. You agree to submit to the personal jurisdiction and venue of the state and federal courts located within New Castle County, Delaware, for the purpose of litigating all such claims or disputes.</p>

                            <h4 id="clause-17" class="font-semibold text-xl text-white">17. Entire Agreement and Severability</h4>
                            <p>These Terms constitute the entire agreement between us regarding our Service, and supersede and replace any prior agreements we might have had between us regarding the Service.</p>

                            <!-- Contact Information -->
                            <h3 id="contact" class="font-bold text-2xl text-white pt-6 border-t border-[rgba(255,255,255,0.05)]">Contact Information:</h3>
                            <p>For any questions regarding these Terms, please contact the Service Provider.</p>

                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- SUPPORT SECTION -->
        <section id="support" class="page-section py-16 hidden">
            <div class="max-w-4xl mx-auto px-6">
                <h2 class="text-3xl font-extrabold mb-4"><span class="accent">Get</span> Support</h2>
                <div class="glass p-6 space-y-4">
                    <!-- PRIMARY TICKET SUPPORT -->
                    <h3 class="font-semibold text-xl flex items-center">
                        <i data-lucide="ticket" class="w-6 h-6 mr-3 text-[var(--accent)]"></i>
                        Primary Support Channel (Development Server)
                    </h3>
                    <p class="text-[var(--muted)]">For assistance regarding payment issues, server questions, or general inquiries, please open a **general support ticket** in the High Rock development server. This ensures faster tracking and resolution.</p>
                    
                    <!-- Discord Link -->
                    <div class="flex justify-center">
                        <a href="https://discord.gg/HpreRKDQdY" target="_blank" class="btn-accent px-6 py-3 justify-center transform transition duration-150 active:scale-95">
                            <i data-lucide="external-link" class="w-5 h-5"></i>
                            Go to Development Server
                        </a>
                    </div>
                    <p class="text-sm text-[var(--muted)] mt-4 text-center">Note: You will be redirected to an external site to complete the payment.</p>
                </div>
            </div>
        </section>

    </main>

    <!-- FOOTER -->
    <footer class="mt-12 border-t border-[rgba(255,255,255,0.03)] bg-[rgba(3,3,3,0.6)] py-8">
        <div class="max-w-7xl mx-auto px-6 text-center text-[var(--muted)]">
            <div class="mb-4">&copy; <span id="year"></span> High Rock Fundraiser | All rights reserved.</div>
            <div class="flex items-center justify-center gap-6 text-sm">
                <a href="#" onclick="navigate('terms');return false;" class="hover:text-white">Terms</a>
                <a href="#" onclick="navigate('support');return false;" class="hover:text-white">Support</a>
            </div>
        </div>
    </footer>

    <!-- PAYMENT MODAL -->
    <div id="payment-modal" class="fixed inset-0 bg-black bg-opacity-75 hidden items-center justify-center z-50 p-4" onclick="closeModal()">
        <div class="modal-card-bg p-6 rounded-xl shadow-2xl w-full max-w-sm" onclick="event.stopPropagation()">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold text-white" id="modal-title">Select Payment Method</h2>
                <button onclick="closeModal()" class="text-gray-400 hover:text-white transition duration-200">
                    <i data-lucide="x" class="w-6 h-6"></i>
                </button>
            </div>
            
            <p class="text-gray-400 mb-6">Choose your currency to proceed with the donation.</p>

            <!-- Cash Button (Green) -->
            <a id="cash-link" target="_blank" class="cash-btn-modal flex items-center justify-between p-4 mb-4 rounded-xl font-semibold text-lg text-white shadow-lg transform transition duration-200 hover:scale-[1.01] cursor-pointer" 
                onclick="closeModal(); showMessage('Thank you! Redirecting to PayPal for secure payment...')">
                <div class="flex items-center">
                    <i data-lucide="dollar-sign" class="w-5 h-5 mr-3"></i>
                    <span>Cash</span>
                </div>
                <span id="cash-amount" class="font-mono">$X.XX</span>
            </a>

            <!-- Robux Button (Blue) -->
            <a id="robux-link" target="_blank" class="robux-btn-modal flex items-center justify-between p-4 rounded-xl font-semibold text-lg text-white shadow-lg transform transition duration-200 hover:scale-[1.01] cursor-pointer" onclick="closeModal()">
                <div class="flex items-center">
                    <i data-lucide="gem" class="w-5 h-5 mr-3"></i>
                    <span>Robux</span>
                </div>
                <span id="robux-amount" class="font-mono">R$Y,YYY</span>
            </a>
            <p class="text-xs text-[var(--muted)] mt-4">Note: You will be redirected to an external site to complete the payment.</p>
        </div>
    </div>

    <!-- Custom Message Box -->
    <div id="message-box" class="fixed bottom-4 right-4 left-4 md:left-auto z-[9999] opacity-0 transition-opacity duration-300 ease-in-out pointer-events-none">
        <div class="glass p-4 rounded-xl shadow-2xl max-w-sm ml-auto mr-auto md:mr-0">
            <p id="message-text" class="text-sm font-medium"></p>
        </div>
    </div>

    <script>
        // =======================================================
        // --- 1. CONFIGURATION PLACEHOLDERS (START HERE) ---
        // =======================================================
        const config = {
            // Base URL for PayPal donation links (The first part of the link before the unique ID)
            PAYPAL_DONATION_BASE_URL: 'https://www.paypal.com/ncp/payment/',
            
            // Base URL for the Roblox Game Pass purchases
            ROBLOX_GAME_PASS_BASE_URL: 'https://www.roblox.com/game-pass/',

            // Map tier config IDs to their specific link suffixes/IDs.
            // These IDs match the links you provided.
            TIER_LINK_MAP: {
                'tier-1': { // $1.00 / R$ 5
                    robux_id: '1617074252', // Roblox Game Pass ID
                    cash_id: 'CPQALUV58EBLE', // PayPal Unique Link ID
                },
                'tier-2': { // $2.00 / R$ 10
                    robux_id: '1616223998',
                    cash_id: 'C7XTCC7EY36BY',
                },
                'tier-3': { // $3.00 / R$ 20
                    robux_id: '1616338025',
                    cash_id: 'L9DGSB8HTUD9J',
                },
                'tier-4': { // $5.00 / R$ 50
                    robux_id: '1615966183',
                    cash_id: '4BD9EQJC3Z23A',
                },
                'tier-5': { // $10.00 / R$ 100
                    robux_id: '1616715777',
                    cash_id: 'AUAJGD58NBUG2',
                },
                'tier-6': { // $20.00 / R$ 200
                    robux_id: '1616964316',
                    cash_id: 'U63VFS8QLMLSQ',
                },
                'tier-7': { // $25.00 / R$ 500
                    robux_id: '1616767745',
                    cash_id: 'RJXUW3NFNQU8E',
                },
                'tier-8': { // $30.00 / R$ 1000
                    robux_id: '1616423871',
                    cash_id: '7XMVYH8KLMM72',
                },
                'tier-9': { // $35.00 / R$ 2000
                    robux_id: '1616894457',
                    cash_id: 'XLHAW66BC42X4',
                },
                'tier-10': { // $40.00 / R$ 3000
                    robux_id: '1616433996',
                    cash_id: 'AYRXZA8HNQP4S',
                },
            },
        };
        // =======================================================
        // --- 2. DONATION TIER DATA ---
        // =======================================================

        // Data containing all donation tiers (now referencing the config map)
        const donationTiers = [
            { robux: 5, cash: 1.00, title: "Small Contribution", icon: "gift", configId: "tier-1" },
            { robux: 10, cash: 2.00, title: "Bronze Contributor", icon: "flame", configId: "tier-2" },
            { robux: 20, cash: 3.00, title: "Silver Supporter", icon: "star", configId: "tier-3" },
            { robux: 50, cash: 5.00, title: "Gold Partner", icon: "medal", configId: "tier-4" },
            { robux: 100, cash: 10.00, title: "Platinum Sponsor", icon: "crown", configId: "tier-5" },
            { robux: 200, cash: 20.00, title: "Diamond Donor", icon: "diamond", configId: "tier-6" },
            { robux: 500, cash: 25.00, title: "Elite Benefactor", icon: "zap", configId: "tier-7" },
            { robux: 1000, cash: 30.00, title: "High-Rock Patron", icon: "rocket", configId: "tier-8" },
            { robux: 2000, cash: 35.00, title: "Legendary Investor", icon: "trophy", configId: "tier-9" },
            { robux: 3000, cash: 40.00, title: "Celestial Angel", icon: "sunrise", configId: "tier-10" },
        ];


        const donationGrid = document.getElementById('donation-grid');
        const paymentModal = document.getElementById('payment-modal');
        const cashLink = document.getElementById('cash-link');
        const robuxLink = document.getElementById('robux-link');
        const cashAmountDisplay = document.getElementById('cash-amount');
        const robuxAmountDisplay = document.getElementById('robux-amount');
        const modalTitle = document.getElementById('modal-title');
        
        // These variables are only needed to set the modal UI text, not for logging now
        let currentDonationCashAmount = 0; 
        let currentDonationRobuxValue = 0; 

        // Helper function to format Robux amount with commas
        window.formatRobux = (amount) => {
            return amount.toLocaleString('en-US');
        };

        // Helper function to format Cash amount
        const formatCash = (amount) => {
            return amount.toFixed(2);
        };
        
        /**
         * Copies text to the clipboard and shows a message.
         */
        window.copyToClipboard = function(text, name) {
            try {
                // Use document.execCommand('copy') for better compatibility in iFrames
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                window.showMessage(`${name} copied to clipboard: ${text}`);
            } catch (err) {
                console.error('Could not copy text: ', err);
                window.showMessage('Failed to copy. Please copy manually.');
            }
        };


        /**
         * Opens the payment selection modal.
         */
        function openModal(tierConfigId, r_amount, c_amount, title) {
            const tierLinks = config.TIER_LINK_MAP[tierConfigId];

            if (!tierLinks) {
                window.showMessage(`Configuration error: Tier ID ${tierConfigId} is missing link definitions.`);
                return;
            }

            // Construct the full URLs using the base URLs and specific IDs
            const cash_link = config.PAYPAL_DONATION_BASE_URL + tierLinks.cash_id;
            const robux_link = config.ROBLOX_GAME_PASS_BASE_URL + tierLinks.robux_id + '/High-Rock-Fundraiser'; // Appending title for clarity, though ID is main part

            modalTitle.textContent = `Purchase: ${title}`;
            currentDonationCashAmount = c_amount; 
            currentDonationRobuxValue = r_amount; 

            // Set Cash link and display
            cashLink.href = cash_link;
            cashAmountDisplay.textContent = `$${formatCash(c_amount)}`;

            // Set Robux link and display
            robuxLink.href = robux_link;
            robuxAmountDisplay.textContent = `R$${window.formatRobux(r_amount)}`;
            
            // Display the modal
            paymentModal.classList.remove('hidden');
            paymentModal.classList.add('flex');
            document.body.style.overflow = 'hidden'; // Prevent scrolling background
            lucide.createIcons(); // Re-render icons after adding new content
        }

        // Function to dynamically create a donation card
        function createCard(tier) {
            
            const card = document.createElement('div');
            card.className = 'glass p-6 card-raise flex flex-col justify-between';
            
            card.innerHTML = `
                <div>
                    <i data-lucide="${tier.icon}" class="w-8 h-8 text-[var(--accent)] mb-4"></i>
                    <h3 class="text-xl font-bold text-white mb-2">${tier.title}</h3>
                    <p class="text-[var(--muted)] text-sm mb-6">
                        A vital contribution that helps fund essential design assets.
                    </p>
                    <p class="text-4xl font-extrabold accent mb-6">
                        R$ ${window.formatRobux(tier.robux)}
                    </p>
                </div>
                <button 
                    class="btn-accent w-full justify-center transform transition duration-150 active:scale-95 mt-6"
                    onclick="openModal('${tier.configId}', ${tier.robux}, ${tier.cash}, '${tier.title}')"
                >
                    <i data-lucide="shopping-cart" class="w-4 h-4"></i>
                    Purchase
                </button>
            `;
            donationGrid.appendChild(card);
        }

        // Function to close the modal
        function closeModal() {
            paymentModal.classList.remove('flex');
            paymentModal.classList.add('hidden');
            document.body.style.overflow = ''; // Re-enable background scrolling
        }

        // Simple client-side routing to toggle sections.
        function navigate(page){
            const pages=['home','donation','terms','support'];
            pages.forEach(p=>{
                const el=document.getElementById(p);
                if(!el) return;
                el.style.display=(p===page)?'block':'none';
            });
            // update nav active state
            document.querySelectorAll('a[data-page]').forEach(a=>a.classList.toggle('active', a.getAttribute('data-page')===page));
            // scroll to top for convenience
            window.scrollTo({top:0,behavior:'smooth'});
            // close mobile menu if open
            document.getElementById('mobile-menu')?.classList.add('hidden');
            document.getElementById('mobile-toggle')?.setAttribute('aria-expanded','false');
        }

        // Function to display messages instead of alert()
        let messageTimeout;
        window.showMessage = function(message) { // Exposed globally
            const box = document.getElementById('message-box');
            const text = document.getElementById('message-text');

            if (messageTimeout) { clearTimeout(messageTimeout); }

            text.textContent = message;
            box.classList.remove('opacity-0', 'pointer-events-none');
            box.classList.add('opacity-100');

            messageTimeout = setTimeout(() => {
                box.classList.remove('opacity-100');
                box.classList.add('opacity-0', 'pointer-events-none');
            }, 4000);
        }

        function toggleMobile(){
            const menu=document.getElementById('mobile-menu');
            const toggle=document.getElementById('mobile-toggle');
            if(menu.classList.contains('hidden')){menu.classList.remove('hidden');toggle.setAttribute('aria-expanded','true')}else{menu.classList.add('hidden');toggle.setAttribute('aria-expanded','false')}
        }

        // Initialization: Create cards, set current year, and activate home page
        window.onload = function() {
            // 1. Create all donation cards
            donationTiers.forEach(createCard);
            
            // 2. Convert all <i> tags with data-lucide attributes into SVGs
            lucide.createIcons();

            // 3. Set current year in footer
            document.getElementById('year').textContent = new Date().getFullYear();

            // 4. Set initial page to home and ensure nav is correct
            navigate('home');
        };
    </script>
</body>
</html>

